@model List<CineTicket.Models.Movie>
@{
    ViewData["Title"] = "Trang chủ - CineTicket";
}

<link href="~/css/dardmode.css" rel="stylesheet" />
<link href="~/css/lightmode.css" rel="stylesheet" />
<link href="~/css/homepage.css" rel="stylesheet" />

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />

<!-- Hero Section -->
<div class="hero-section">
    <div class="container">
        <h1 class="hero-title">Chào mừng đến với 🎬 CineTicket</h1>
        <p class="hero-subtitle">Trải nghiệm phim chất lượng cao với dịch vụ đặt vé trực tuyến dễ dàng</p>
        <a href="@Url.Action("Index", "Movie")" class="hero-btn">
            <i class="fas fa-film me-2"></i> Xem tất cả phim
        </a>
    </div>
</div>

<!-- Featured Movies Section -->
<div class="container">
    <h2 class="section-title">PHIM NỔI BẬT</h2>

    @if (Model != null && Model.Any())
    {
        <div class="movie-container">
            @foreach (var movie in Model.Take(4))
            {
                <div class="movie-card">
                    <div class="movie-poster">
                        @if (!string.IsNullOrEmpty(movie.PosterUrl))
                        {
                            <img src="@movie.PosterUrl" alt="@movie.Title" />
                        }
                    </div>
                    <div class="movie-info">
                        <h3 class="movie-title">@movie.Title</h3>
                        <div class="movie-genre">@movie.Genre</div>
                        <div class="movie-meta">
                            <span><i class="far fa-calendar-alt me-1"></i> @movie.ReleaseDate.ToString("dd/MM/yyyy")</span>
                            <span><i class="far fa-clock me-1"></i> @movie.Duration phút</span>
                        </div>
                        <p class="movie-description">@movie.Description</p>
                        <a href="@Url.Action("Details", "Movie", new { id = movie.Id })" class="movie-btn">Chi tiết</a>
                    </div>
                </div>
            }
        </div>
    }

    <div class="view-all-container">
        <a href="@Url.Action("Index", "Movie")" class="hero-btn">
            <i class="fas fa-film me-2"></i> Xem tất cả phim
        </a>
    </div>
</div>

<!-- Theme Toggle Button -->
<button class="theme-toggle" id="theme-toggle">
    <i class="fas fa-moon"></i>
</button>

<script src="~/js/movie.js"></script>
<script>
    // Apply different background colors to movie posters that don't have images
    document.querySelectorAll('.movie-poster').forEach((poster, index) => {
        if (!poster.querySelector('img')) {
            const colors = ['#3498db', '#2ecc71', '#e74c3c', '#9b59b6', '#f1c40f', '#1abc9c'];
            poster.style.backgroundColor = colors[index % colors.length];
        }
    });

    // Theme toggle functionality
    const themeToggle = document.getElementById('theme-toggle');
    const themeIcon = themeToggle.querySelector('i');

    themeToggle.addEventListener('click', function() {
        document.body.classList.toggle('dark-mode');

        if (document.body.classList.contains('dark-mode')) {
            themeIcon.classList.remove('fa-moon');
            themeIcon.classList.add('fa-sun');
        } else {
            themeIcon.classList.remove('fa-sun');
            themeIcon.classList.add('fa-moon');
        }
    });
</script>